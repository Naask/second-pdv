<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Planeamento de Produção - Lavandaria</title>
    <style>
        body { font-family: system-ui, sans-serif; background-color: #f4f7f6; margin: 0; }
        header { background-color: #563d7c; color: white; padding: 0.5rem; text-align: center; }
        header h1 { font-size: 1.2rem; margin: 0; }
        main { padding: 1rem; }
        .controls-container { display: flex; flex-wrap: wrap; gap: 1rem; align-items: center; background-color: white; padding: 1rem; border-radius: 8px; margin-bottom: 2rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .controls-container label { font-weight: bold; }
        .controls-container input { padding: 0.5rem; border: 1px solid #ced4da; border-radius: 4px; font-size: 1rem; }
        .controls-container button { padding: 0.6rem 1rem; color: white; border: none; border-radius: 4px; cursor: pointer; background-color: #007bff; }
        #toggle-visibility-button { background-color: #6c757d; width: 40px; height: 40px; padding: 0.5rem; display: flex; align-items: center; justify-content: center; }
        .schedule-block { background-color: #ffffff; border-radius: 8px; padding: 1rem; margin-bottom: 2rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .schedule-block h2 { margin-top: 0; padding-bottom: 0.75rem; border-bottom: 2px solid #e9ecef; }
        .planning-grid { display: flex; gap: 1rem; overflow-x: auto; padding: 1rem 0.5rem; background-color: #e9ecef; border-radius: 8px;}
        .day-column { flex: 0 0 320px; background-color: #f8f9fa; border-radius: 8px; }
        .day-header { padding: 0.75rem; background-color: #343a40; color: white; border-radius: 6px 6px 0 0; }
        .day-title { font-size: 1.2rem; font-weight: bold; margin: 0; }
        .day-load, .day-financials { font-size: 0.9rem; margin-top: 0.5rem; }
        .day-financials { border-top: 1px solid #6c757d; padding-top: 0.5rem; }
        .day-scheduled-financials { font-size: 0.9rem; margin-top: 0.5rem; color: #ffc107; }
        .orders-container { padding: 0.5rem; min-height: 250px; transition: background-color 0.2s ease; }
        .orders-container.drag-over { background-color: #d1e7dd; }
        .order-card.dragging { opacity: 0.5; transform: rotate(3deg); }
        .order-card.card-completed { background-color: #e9ecef;opacity: 0.7; }
        .order-card.card-completed .order-card-title,
        .order-card.card-completed .order-card-subtitle {
            text-decoration: line-through;
            color: #6c757d;
        }
    /* FIM DAS NOVAS REGRAS */
        .order-card { position: relative; background-color: white; border-radius: 6px; padding: 0.6rem 1rem; margin-bottom: 0.5rem; box-shadow: 0 1px 2px rgba(0,0,0,0.1); cursor: pointer; border-left: 5px solid #007bff; display: grid; grid-template-columns: 1fr; grid-template-rows: auto auto auto; gap: 0.5rem; }
        .order-card-header { display: flex; justify-content: space-between; align-items: flex-start; }
        .order-card-title { font-weight: bold; margin: 0; font-size: 1rem; }
        .order-card-subtitle { font-size: 0.9rem; font-weight: normal; color: #6c757d; }
        .order-card-value { font-weight: bold; font-size: 1rem; color: #17a2b8; white-space: nowrap; text-align: right; }
        .order-card-footer { display: flex; justify-content: space-between; align-items: center; }
        .order-card p { margin: 0; font-size: 0.9rem; }
        .status-indicators { display: flex; gap: 0.75rem; align-items: center; }
        .status-item { display: flex; flex-direction: column; align-items: center; }
        .status-circle { width: 20px; height: 20px; border-radius: 50%; border: 2px solid #6c757d; background-color: white; cursor: pointer; }
        .status-circle.scheduled { background-color: #d3d3d3; border-color: #6c757d; }
        .status-circle.completed { background-color: #28a745; border-color: #28a745; }
        .status-label { font-size: 0.8rem; text-align: center; color: #6c757d; margin-top: 2px; }
        .cancel-schedule-btn { position: absolute; top: 2px; right: 2px; width: 20px; height: 20px; border-radius: 50%; border: none; background-color: #dc3545; color: white; font-size: 12px; font-weight: bold; line-height: 20px; text-align: center; cursor: pointer; opacity: 0; transition: opacity 0.2s ease-in-out; }
        .order-card:hover .cancel-schedule-btn { opacity: 1; }
        main.values-hidden .financial-info { display: none; }

    </style>
</head>
<body>
    <header><h1>Planeamento de Produção</h1></header>
    <main>
        <div class="controls-container">
            <label for="start-date">Data Início:</label>
            <input type="date" id="start-date">
            <label for="end-date">Data Fim:</label>
            <input type="date" id="end-date">
            <button id="filter-button">Visualizar</button>
            <button id="toggle-visibility-button" title="Mostrar/Ocultar valores">
                <svg id="eye-icon-open" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                <svg id="eye-icon-closed" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;"><path d="M9.9 4.24A9 9 0 0 1 12 3c7 0 10 7 10 7a13.2 13.2 0 0 1-1.67 2.68"></path><path d="M6.61 6.61A13.5 13.5 0 0 0 2 12s3 7 10 7a9.7 9.7 0 0 0 5.39-1.61"></path><line x1="2" x2="22" y1="2" y2="22"></line><path d="M15 12a3 3 0 1 1-3-3"></path></svg>
            </button>
        </div>
        
        <div class="schedule-block">
            <h2>Prazos de Entrega</h2>
            <div class="planning-grid" id="delivery-schedule-grid"></div>
        </div>

        <div class="schedule-block">
            <h2>Programação de Lavagem</h2>
            <div class="planning-grid" id="wash-schedule-grid"></div>
        </div>

        <div class="schedule-block">
            <h2>Programação para Passar</h2>
            <div class="planning-grid" id="pass-schedule-grid"></div>
        </div>

    </main>
    <script src="js/planning.js"></script>
</body>
</html>